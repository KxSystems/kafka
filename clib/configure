#!/bin/bash

# @file onfigure
# @overview
# Adding dependencies.

set -e
apk add --update alpine-sdk && apk add cmake && apk add openssl-dev && apk add librdkafka-dev

# Copy kafka related library and header files into /usr/local/lib/librdkafka,
# which is used as a default value of `KAFKA_INSTALL_DIR` inside CMakeLists.txt.
mkdir -p /usr/local/lib/librdkafka/include/librdkafka/
mkdir -p /usr/local/lib/librdkafka/lib
cp /usr/lib/librdkafka* /usr/local/lib/librdkafka/lib/
cp /usr/include/librdkafka/rdkafka.h /usr/local/lib/librdkafka/include/librdkafka/
